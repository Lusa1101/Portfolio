@*
@model Porfolio.Models.Resume
@{
    ViewData["Title"] = $"{Model.Names} {Model.Surname} - Resume";
}

<div class="resume-wrapper"> <!-- Added wrapper for better control -->
    <div class="resume-container">
        <!-- Header Section -->
        <header class="resume-header text-center mb-5">
            <h1 class="display-4">@Model.Names @Model.Surname</h1>
            <div class="contact-info">
                <span><i class="bi bi-envelope"></i> @Model.Email</span>
                <span class="mx-3">|</span>
                <span><i class="bi bi-phone"></i> @Model.Cell</span>
                <span class="mx-3">|</span>
                <span><i class="bi bi-geo-alt"></i> @Model.Address</span>
            </div>
        </header>

        <!-- Main Content - Now using proper sectioning -->
        <div class="resume-content">
            <!-- Qualifications Section -->
            <section class="qualifications-section mb-5">
                <h2 class="section-title"><i class="bi bi-mortarboard"></i> Education & Qualifications</h2>
                <div class="timeline">
                    @foreach (var qual in Model.Qualifications.OrderByDescending(q => q.EndDate))
                    {
                        <div class="timeline-item">
                            <div class="timeline-date">
                                @qual.StartDate.ToString("MMM yyyy") - @qual.EndDate.ToString("MMM yyyy")
                            </div>
                            <div class="timeline-content">
                                <h3>@qual.Name</h3>
                                <p>@qual.Description</p>
                            </div>
                        </div>
                    }
                </div>
            </section>

            <!-- Experience Section -->
            <section class="experience-section mb-5">
                <h2 class="section-title"><i class="bi bi-briefcase"></i> Professional Experience</h2>
                <div class="timeline">
                    @foreach (var exp in Model.Experiences.OrderByDescending(e => e.EndDate))
                    {
                        <div class="timeline-item">
                            <div class="timeline-date">
                                @exp.StartDate.ToString("MMM yyyy") - @exp.EndDate.ToString("MMM yyyy")
                            </div>
                            <div class="timeline-content">
                                <h3>@exp.Name</h3>
                                <p>@exp.Description</p>
                            </div>
                        </div>
                    }
                </div>
            </section>

            <!-- Certifications Section -->
            @if (!string.IsNullOrEmpty(Model.Certification))
            {
                <section class="certifications-section mb-5">
                    <h2 class="section-title"><i class="bi bi-award"></i> Certifications</h2>
                    <div class="certification-content">
                        @Html.Raw(Model.Certification.Replace("\n", "<br/>"))
                    </div>
                </section>
            }

            <!-- References Section -->
            <section class="references-section">
                <h2 class="section-title"><i class="bi bi-people"></i> References</h2>
                <div class="references-grid">
                    @foreach (var reference in Model.References)
                    {
                        <div class="reference-card">
                            <h3>@reference.Names</h3>
                            <p class="relation">@reference.Relation</p>
                            <p><i class="bi bi-envelope"></i> @reference.Email</p>
                            <p><i class="bi bi-telephone"></i> @reference.Cell</p>
                        </div>
                    }
                </div>
            </section>
        </div>
    </div>
</div>

<style>
    /* Reset and Base Styles */
    html, body {
        height: 100%;
        margin: 0;
        padding: 0;
        overflow-x: hidden;
    }

    body {
        display: flex;
        flex-direction: column;
        min-height: 100vh;
    }

    /* Resume Container */
    .resume-container {
        max-width: 900px;
        margin: 2rem auto;
        padding: 2rem;
        background: white;
        box-shadow: 0 0 20px rgba(0, 0, 0, 0.1);
        border-radius: 10px;
        position: relative; /* Ensures proper stacking */
        z-index: 1; /* Explicit stacking order */
        overflow: visible; /* Allows content to flow naturally */
    }

    /* Timeline Fixes */
    .timeline {
        position: relative;
        padding-left: 50px;
        margin: 0;
    }

        .timeline::before {
            content: '';
            position: absolute;
            left: 15px;
            top: 0;
            bottom: 0;
            width: 2px;
            background: linear-gradient(to bottom, #6a11cb, #2575fc);
            z-index: -1; /* Places line behind content */
        }

    .timeline-item {
        position: relative;
        margin-bottom: 2rem;
        padding-bottom: 1rem;
        clear: both; /* Prevents float overlap */
    }

    /* References Grid Fix */
    .references-grid {
        display: grid;
        grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
        gap: 1.5rem;
        position: relative;
        z-index: 1;
    }

    .reference-card {
        position: relative;
        z-index: 2;
        background: #f9f9f9;
        padding: 1.5rem;
        border-radius: 8px;
        border-left: 4px solid #6a11cb;
        margin-bottom: 1rem;
    }

    /* Section Spacing */
    section {
        margin-bottom: 3rem;
        position: relative;
    }

    .section-title {
        position: relative;
        z-index: 2;
    }

    /* Ensure main content flows properly */
    main {
        flex: 1;
        position: relative;
        z-index: 1;
    }

    /* Header Fixes */
    .resume-header {
        position: relative;
        z-index: 2;
        margin-bottom: 2rem;
    }

    /* Mobile Overlap Prevention */
    @@media (max-width: 768px) {
        .timeline

    {
        padding-left: 30px;
    }

    .timeline-item::before {
        left: -28px;
    }

    .resume-container {
        padding: 1.5rem;
        margin: 1rem;
    }

    }
</style>
*@

@*
@model Porfolio.Models.Resume

@{
    ViewData["Title"] = "Resume";
}


<div class="container mt-5">
    <!-- Personal Info -->
    <div class="resume-header text-center">
        <h1>@Model.Names @Model.Initials @Model.Surname</h1>
        <p><i class="bi bi-geo-alt"></i> @Model.Address</p>
        <p><i class="bi bi-telephone"></i> @Model.Cell | <i class="bi bi-envelope"></i> @Model.Email</p>
        <hr>
    </div>

    <div class="row">
        <!-- Qualifications Section -->
        <div class="col-md-6">
            <h2 class="text-primary">📜 Qualifications</h2>
            <ul class="list-group">
                @foreach (var qualification in Model.Qualifications)
                {
                    <li class="list-group-item">
                        <h5>@qualification.Name</h5>
                        <p>@qualification.Description</p>
                        <small class="text-muted">📅 @qualification.StartDate.ToShortDateString() - @qualification.EndDate.ToShortDateString()</small>
                    </li>
                }
            </ul>
        </div>

        <!-- Work Experience Section -->
        <div class="col-md-6">
            <h2 class="text-success">💼 Work Experience</h2>
            <ul class="list-group">
                @foreach (var experience in Model.Experiences)
                {
                    <li class="list-group-item">
                        <h5>@experience.Name</h5>
                        <p>@experience.Description</p>
                        <small class="text-muted">📅 @experience.StartDate.ToShortDateString() - @experience.EndDate.ToShortDateString()</small>
                    </li>
                }
            </ul>
        </div>
    </div>

    <!-- Certifications & References -->
    <div class="row mt-4">
        <div class="col-md-6">
            <h2 class="text-warning">🏅 Certifications</h2>
            <p>@Model.Certification</p>
        </div>
        <div class="col-md-6">
            <h2 class="text-danger">📞 References</h2>
            <ul class="list-group">
                @foreach (var reference in Model.References)
                {
                    <li class="list-group-item">
                        <h5>@reference.Names (@reference.Relation)</h5>
                        <p><i class="bi bi-envelope"></i> @reference.Email</p>
                        <p><i class="bi bi-telephone"></i> @reference.Cell</p>
                    </li>
                }
            </ul>
        </div>
    </div>
</div>
<style>
    .resume-header {
        background-color: #1a1a1a;
        color: #33FF33;
        padding: 20px;
        border-radius: 8px;
        box-shadow: 0px 4px 10px rgba(0,0,0,0.5);
    }

    .list-group-item {
        background-color: #222;
        color: white;
        border-left: 5px solid #007bff; /* Color strip for emphasis */
        padding: 15px;
    }

    h2 {
        font-weight: bold;
    }

    .container {
        max-width: 900px;
        background-color: #f8f9fa;
        padding: 20px;
        border-radius: 10px;
        box-shadow: 0px 4px 10px rgba(0,0,0,0.1);
    }

</style>
*@


<div class="container mt-4">
    <div class="row">
        <!-- Personal Info Section -->
        <div class="col-md-12 text-center">
            <h1>@Model.Names @Model.Surname</h1>
            <p><strong>Location:</strong> @Model.Address</p>
            <p><strong>LinkedIn:</strong> <a href="https://linkedin.com/in/Omphulusa-Mashau">LinkedIn</a> | <strong>Email:</strong> <a href="mailto:@Model.Email">@Model.Email</a></p>
            <hr>
        </div>
    </div>

    <!-- Work Experience -->
    <div class="row">
        <div class="col-md-12">
            <h2 class="text-success">Work Experience</h2>
            <ul class="list-group">
                @foreach (var experience in Model.Experiences)
                {
                    <li class="list-group-item">
                        <h5>@experience.Name</h5>
                        <!-- Collapsible Project Description -->
                        <button class="btn btn-outline-secondary btn-sm" type="button" data-bs-toggle="collapse" data-bs-target="#desc-@experience.Id">
                            View Description
                        </button>
                        <div id="desc-@experience.Id" class="collapse mt-2">
                            <p class="card-text">@experience.Description</p>
                        </div>
                        <br/>
                        <small><strong>@experience.StartDate.ToShortDateString() - @experience.EndDate.ToShortDateString()</strong></small>
                    </li>
                }
            </ul>
            <hr>
        </div>
    </div>

    <!-- Qualifications -->
    <div class="row">
        <div class="col-md-12">
            <h2 class="text-primary">Qualifications</h2>
            <ul class="list-group">
                @foreach (var qualification in Model.Qualifications)
                {
                    <li class="list-group-item">
                        <h5>@qualification.Name</h5>
                        <!-- Collapsible Project Description -->
                        <button class="btn btn-outline-secondary btn-sm" type="button" data-bs-toggle="collapse" data-bs-target="#desc-@qualification.Id">
                            View Description
                        </button>
                        <div id="desc-@qualification.Id" class="collapse mt-2">
                            <p class="card-text">@qualification.Description</p>
                        </div>
                        <br />
                        <small><strong>@qualification.StartDate.ToShortDateString() - @qualification.EndDate.ToShortDateString()</strong></small>
                    </li>
                }
            </ul>
            <hr>
        </div>
    </div>

    <!-- Certifications -->
    <div class="row">
        <div class="col-md-12">
            <h2 class="text-warning">Certificates</h2>
            <ul class="list-group">
                @foreach (var certificate in Model.Certifications)
                {
                    <li class="list-group-item">
                        <h5>@certificate.Title</h5>
                        <p><strong>Issuer:</strong> @certificate.Issuer</p>
                        <!-- Collapsible Project Description -->
                        <button class="btn btn-outline-secondary btn-sm" type="button" data-bs-toggle="collapse" data-bs-target="#desc-@certificate.Id">
                            View Description
                        </button>

                        <div id="desc-@certificate.Id" class="collapse mt-2">
                            <p class="card-text">@certificate.Description</p>
                        </div>
                        
                        @if (!string.IsNullOrEmpty(certificate.VerificationLink))
                        {
                            <p><a href="@certificate.VerificationLink" target="_blank" class="btn btn-sm btn-info">Verify Certificate</a></p>
                        }
                        @*
                        <small class="text-muted">
                            📅 @certificate.IssueDate.ToShortDateString()
                            @if (certificate.ExpiryDate.HasValue)
                            {
                                <span> - Expires @certificate.ExpiryDate.Value.ToShortDateString()</span>
                            }
                        </small>
                        *@
                    </li>
                }
            </ul>
            <hr>
        </div>
    </div>


    <!-- References -->
    @*
    <div class="row">
        <div class="col-md-12">
            <h2 class="text-danger">References</h2>
            <ul class="list-group">
                @foreach (var reference in Model.References)
                {
                    <li class="list-group-item">
                        <h5>@reference.Names (@reference.Relation)</h5>
                        <p><strong>Email:</strong> @reference.Email</p>
                        <p><strong>Phone:</strong> @reference.Cell</p>
                    </li>
                }
            </ul>
        </div>
    </div>
    *@
</div>

@*
    <style>
    .container {
        max-width: 800px; /* Limits content width */
        background-color: #f8f9fa; /* Light background */
        padding: 20px;
        border-radius: 10px;
        box-shadow: 0px 4px 10px rgba(0,0,0,0.1); /* Subtle shadow */
    }

    h1 {
        font-size: 2rem;
        font-weight: bold;
        color: #333;
    }

    .list-group-item {
        background-color: #fff;
        border-left: 5px solid #007bff; /* Color strip */
        padding: 15px;
    }

</style>
*@

